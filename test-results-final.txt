[0;34mRunning unit tests with performance optimizations...[0m 
$ vitest run tests/unit/ --config=vitest.config.unified.ts --reporter=default
[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v3.2.4 /Users/neo/Developer/mexc-sniper-bot

stderr | tests/unit/timeout-system.test.ts > Timeout System Verification > Timeout Wrapper Functions > should timeout slow operations
⚠️ Test approaching timeout (80% of 500ms)

 ❯ tests/unit/timeout-system.test.ts (25 tests | 1 failed) 8998ms
   ✓ Timeout System Verification > Timeout Configuration > should return correct timeouts for different test types 34ms
   ✓ Timeout System Verification > Timeout Configuration > should respect environment variable overrides 0ms
   ✓ Timeout System Verification > Timeout Configuration > should use fallback values for invalid environment variables 0ms
   × Timeout System Verification > Timeout Wrapper Functions > should complete fast operations successfully 342ms
     → expected 288 to be less than 200
   ✓ Timeout System Verification > Timeout Wrapper Functions > should timeout slow operations  539ms
   ✓ Timeout System Verification > Timeout Wrapper Functions > should provide warnings for operations approaching timeout  809ms
   ✓ Timeout System Verification > Database Timeout Wrapper > should complete fast database operations 103ms
   ✓ Timeout System Verification > Database Timeout Wrapper > should timeout slow database operations  1032ms
   ✓ Timeout System Verification > API Timeout Wrapper > should complete fast API operations 105ms
   ✓ Timeout System Verification > API Timeout Wrapper > should timeout slow API operations  1115ms
   ✓ Timeout System Verification > WebSocket Timeout Wrapper > should complete fast WebSocket operations 136ms
   ✓ Timeout System Verification > WebSocket Timeout Wrapper > should timeout slow WebSocket operations  1003ms
   ✓ Timeout System Verification > Timeout Monitor > should track active timeouts and intervals 4ms
   ✓ Timeout System Verification > Timeout Monitor > should cleanup all tracked timeouts and intervals 1ms
   ✓ Timeout System Verification > Retry with Timeout > should succeed on first attempt 2ms
   ✓ Timeout System Verification > Retry with Timeout > should retry failed operations 211ms
   ✓ Timeout System Verification > Retry with Timeout > should fail after max retries 121ms
   ✓ Timeout System Verification > Retry with Timeout > should timeout during retry operations  1568ms
   ✓ Timeout System Verification > Enhanced Promise Timeout > should complete fast promises with performance monitoring 99ms
   ✓ Timeout System Verification > Enhanced Promise Timeout > should warn for slow but successful operations  839ms
   ✓ Timeout System Verification > Enhanced Promise Timeout > should timeout extremely slow operations  504ms
   ✓ Timeout System Verification > Global Timeout Monitor Integration > should integrate with global timeout monitor 0ms
   ✓ Timeout System Verification > Error Handling and Edge Cases > should handle operations that throw non-timeout errors 0ms
   ✓ Timeout System Verification > Error Handling and Edge Cases > should handle invalid timeout configurations gracefully 0ms
   ✓ Timeout System Verification > Error Handling and Edge Cases > should work with monitoring disabled 112ms
stdout | tests/unit/api-credentials-test-endpoint.test.ts
🔧 Created circuit breaker: mexc-api
🔧 Created circuit breaker: mexc-websocket
🔧 Created circuit breaker: database

stdout | tests/unit/verification.test.ts > Project Verification Tests > Documentation Verification > should have comprehensive documentation
ℹ️ Optional documentation missing: SPRINT_COMPLETION_REPORT.md

stdout | tests/unit/verification.test.ts > Project Verification Tests > Documentation Verification > should have implementation summary (optional)
ℹ️ Implementation summary not required for tests to pass

stdout | tests/unit/verification.test.ts > Project Verification Tests > Documentation Verification > should have testing report (optional)
ℹ️ Testing report not required for tests to pass

 ✓ tests/unit/verification.test.ts (19 tests) 164ms
stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should switch to different environments correctly
🔄 Switched to staging environment: Staging environment for pre-production testing
🔄 Switched to production environment: Production environment (read-only for testing)

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should switch to different environments correctly
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should switch to different environments correctly
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should maintain environment history for rollback
🔄 Switched to test environment: Isolated test environment for unit and integration tests
🔄 Switched to staging environment: Staging environment for pre-production testing
🔄 Switched to production environment: Production environment (read-only for testing)
🔄 Switched to e2e environment: Dedicated E2E testing environment with real auth flows
🔄 Rolled back to production environment: Production environment (read-only for testing)
🔄 Rolled back to staging environment: Staging environment for pre-production testing
🔄 Rolled back to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should maintain environment history for rollback
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should maintain environment history for rollback
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should throw error for unknown environment
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should throw error for unknown environment
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should set all required environment variables
🔄 Switched to staging environment: Staging environment for pre-production testing

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should set all required environment variables
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Switching > should set all required environment variables
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create test users with correct data
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create test users with correct data
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create test users with correct data
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create test users with correct data
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create users with custom data overrides
👤 Created test user: custom.email@example.com in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create users with custom data overrides
🧹 Cleaning up test user: custom.email@example.com from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create users with custom data overrides
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should create users with custom data overrides
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
🔄 Switched to staging environment: Staging environment for pre-production testing
👤 Created test user: premium.user@mexcsniper.test in staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
✅ Cleaned up 2 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
🧹 Cleaning up test user: premium.user@mexcsniper.test from staging environment
✅ Cleaned up 1 test users from staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
🧹 Cleaned up test users from 2 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should track created users by environment
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup users for specific environment
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup users for specific environment
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup users for specific environment
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
✅ Cleaned up 2 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup users for specific environment
✅ Cleaned up 0 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup users for specific environment
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup users for specific environment
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🔄 Switched to staging environment: Staging environment for pre-production testing
👤 Created test user: premium.user@mexcsniper.test in staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🔄 Switched to e2e environment: Dedicated E2E testing environment with real auth flows
👤 Created test user: admin.user@mexcsniper.test in e2e environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🧹 Cleaning up test user: premium.user@mexcsniper.test from staging environment
✅ Cleaned up 1 test users from staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🧹 Cleaning up test user: admin.user@mexcsniper.test from e2e environment
✅ Cleaned up 1 test users from e2e environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🧹 Cleaned up test users from 3 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
✅ Cleaned up 0 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
✅ Cleaned up 0 test users from staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
✅ Cleaned up 0 test users from e2e environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🧹 Cleaned up test users from 3 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Test User Management > should cleanup all users across environments
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create basic flow scenario
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create basic flow scenario
🎭 Created scenario: basic-flow with 1 users

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create basic flow scenario
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create basic flow scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create basic flow scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
👤 Created test user: premium.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
👤 Created test user: restricted.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
🎭 Created scenario: permission-testing with 4 users

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
🧹 Cleaning up test user: premium.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
🧹 Cleaning up test user: restricted.user@mexcsniper.test from test environment
✅ Cleaned up 4 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create permission testing scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create onboarding flow scenario
👤 Created test user: new.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create onboarding flow scenario
🎭 Created scenario: onboarding-flow with 1 users

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create onboarding flow scenario
🧹 Cleaning up test user: new.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create onboarding flow scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create onboarding flow scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
👤 Created test user: premium.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
🎭 Created scenario: multi-org-testing with 3 users

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
🧹 Cleaning up test user: premium.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
✅ Cleaned up 3 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create multi-org testing scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create security testing scenario
👤 Created test user: restricted.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create security testing scenario
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create security testing scenario
🎭 Created scenario: security-testing with 2 users

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create security testing scenario
🧹 Cleaning up test user: restricted.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
✅ Cleaned up 2 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create security testing scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should create security testing scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should throw error for unknown scenario
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > User Scenarios > should throw error for unknown scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should validate complete environment configuration
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should validate complete environment configuration
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should validate complete environment configuration
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should detect missing environment variables
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should detect missing environment variables
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should detect missing environment variables
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should detect invalid URL formats
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should detect invalid URL formats
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Environment Validation > should detect invalid URL formats
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Manager Reset > should reset to initial state
🔄 Switched to staging environment: Staging environment for pre-production testing
👤 Created test user: basic.user@mexcsniper.test in staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Manager Reset > should reset to initial state
👤 Created test user: admin.user@mexcsniper.test in staging environment

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Manager Reset > should reset to initial state
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Manager Reset > should reset to initial state
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Authentication Environment Management > Manager Reset > should reset to initial state
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Shared Instance > should provide global instance
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Shared Instance > should provide global instance
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Shared Instance > should maintain state across different imports
🔄 Switched to staging environment: Staging environment for pre-production testing
👤 Created test user: basic.user@mexcsniper.test in staging environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Shared Instance > should maintain state across different imports
🧹 Cleaning up test user: basic.user@mexcsniper.test from staging environment
✅ Cleaned up 1 test users from staging environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Shared Instance > should maintain state across different imports
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Shared Instance > should maintain state across different imports
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should setup test environment with beforeEach
🔄 Switched to e2e environment: Dedicated E2E testing environment with real auth flows

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should setup test environment with beforeEach
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should setup test environment with beforeEach
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should cleanup after each test
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should cleanup after each test
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should cleanup after each test
✅ Cleaned up 0 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should cleanup after each test
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment Setup Hooks > should cleanup after each test
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
👤 Created test user: premium.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
👤 Created test user: restricted.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
🎭 Created scenario: permission-testing with 4 users

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
🧹 Cleaning up test user: premium.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
🧹 Cleaning up test user: restricted.user@mexcsniper.test from test environment
✅ Cleaned up 4 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup permission test scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup onboarding test scenario
👤 Created test user: new.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup onboarding test scenario
🎭 Created scenario: onboarding-flow with 1 users

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup onboarding test scenario
🧹 Cleaning up test user: new.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup onboarding test scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup onboarding test scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup basic auth test scenario
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup basic auth test scenario
🎭 Created scenario: basic-flow with 1 users

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup basic auth test scenario
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
✅ Cleaned up 1 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup basic auth test scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup basic auth test scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
👤 Created test user: basic.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
👤 Created test user: premium.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
🎭 Created scenario: multi-org-testing with 3 users

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
🧹 Cleaning up test user: basic.user@mexcsniper.test from test environment
🧹 Cleaning up test user: premium.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
✅ Cleaned up 3 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup multi-org test scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup security test scenario
👤 Created test user: restricted.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup security test scenario
👤 Created test user: admin.user@mexcsniper.test in test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup security test scenario
🎭 Created scenario: security-testing with 2 users

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup security test scenario
🧹 Cleaning up test user: restricted.user@mexcsniper.test from test environment
🧹 Cleaning up test user: admin.user@mexcsniper.test from test environment
✅ Cleaned up 2 test users from test environment

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup security test scenario
🧹 Cleaned up test users from 1 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Auth Scenarios Helpers > should setup security test scenario
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should check current environment correctly
🔄 Switched to staging environment: Staging environment for pre-production testing

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should check current environment correctly
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should check current environment correctly
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should run test in specific environment temporarily
🔄 Switched to test environment: Isolated test environment for unit and integration tests
🔄 Switched to staging environment: Staging environment for pre-production testing

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should run test in specific environment temporarily
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should run test in specific environment temporarily
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager > Environment-Aware Utilities > should run test in specific environment temporarily
🔄 Switched to test environment: Isolated test environment for unit and integration tests

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager
🧹 Cleaned up test users from 0 environments

stdout | tests/unit/auth-environment-management.test.ts > Global Auth Environment Manager
🔄 Switched to test environment: Isolated test environment for unit and integration tests

 ✓ tests/unit/auth-environment-management.test.ts (30 tests) 195ms
 ✓ tests/unit/api-credentials-validation.test.ts (8 tests) 109ms
 ✓ tests/unit/simplified-infrastructure-demo.test.ts (13 tests) 120ms
 ✓ tests/unit/components-use-toast.test.ts (21 tests) 62ms
 ✓ tests/unit/database-optimization-simple.test.ts (6 tests) 27ms
 ✓ tests/unit/hooks-use-account-balance.test.ts (19 tests) 58ms
 ✓ tests/unit/risk-engine-schemas.test.ts (23 tests) 116ms
 ✓ tests/unit/middleware-cost-monitor.test.ts (10 tests) 80ms
 ✓ tests/unit/hooks-use-ai-services.test.ts (12 tests) 128ms
 ✓ tests/unit/workflow-status.test.ts (3 tests) 78ms
 ✓ tests/unit/user-preferences.test.ts (6 tests) 24ms
stdout | unknown test
[ErrorLoggingService] Graceful shutdown initiated, flushing remaining logs {
  operation: [32m'setupGracefulShutdown'[39m,
  bufferSize: [33m0[39m,
  fallbackBufferSize: [33m0[39m
}

stdout | unknown test
[ErrorLoggingService] Successfully flushed all logs during shutdown { operation: [32m'setupGracefulShutdown'[39m }


⎯⎯⎯⎯⎯⎯ Failed Suites 62 ⎯⎯⎯⎯⎯⎯

 FAIL  tests/unit/agent-response-cache.test.ts [ tests/unit/agent-response-cache.test.ts ]
Error: Failed to resolve import "@/src/lib/cache/agent-response-cache" from "tests/unit/agent-response-cache.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/agent-response-cache.test.ts:14:35
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { AgentResponseCache } from "@/src/lib/cache/agent-response-cache";
     |                                      ^
  3  |  describe("AgentResponseCache", () => {
  4  |    let cache;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/63]⎯

 FAIL  tests/unit/activity-api.test.ts [ tests/unit/activity-api.test.ts ]
Error: Failed to resolve import "@/src/schemas/unified/mexc-api-schemas" from "tests/unit/activity-api.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/activity-api.test.ts:16:7
  11 |    validateActivityEnhancement,
  12 |    validateActivityResponse
  13 |  } from "@/src/schemas/unified/mexc-api-schemas";
     |          ^
  14 |  describe("Activity API Schemas and Utilities", () => {
  15 |    describe("ActivityDataSchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/63]⎯

 FAIL  tests/unit/enhanced-unified-cache.test.ts [ tests/unit/enhanced-unified-cache.test.ts ]
Error: Failed to resolve import "@/src/lib/enhanced-unified-cache" from "tests/unit/enhanced-unified-cache.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/enhanced-unified-cache.test.ts:14:7
  4  |    getEnhancedUnifiedCache,
  5  |    resetEnhancedUnifiedCache
  6  |  } from "@/src/lib/enhanced-unified-cache";
     |          ^
  7  |  beforeEach(async () => {
  8  |    const { UnifiedCacheSystem } = await import("@/src/lib/unified-cache-system");
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/63]⎯

 FAIL  tests/unit/pattern-embedding-service.test.ts [ tests/unit/pattern-embedding-service.test.ts ]
Error: Failed to resolve import "@/src/services/data/pattern-embedding-service" from "tests/unit/pattern-embedding-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/pattern-embedding-service.test.ts:17:7
  6  |    PatternEmbeddingService,
  7  |    patternEmbeddingService
  8  |  } from "@/src/services/data/pattern-embedding-service";
     |          ^
  9  |  describe("PatternEmbeddingService", () => {
  10 |    let service;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/63]⎯

 FAIL  tests/unit/risk-calculation-modules.test.ts [ tests/unit/risk-calculation-modules.test.ts ]
Error: Failed to resolve import "@/src/lib/risk-calculation-modules" from "tests/unit/risk-calculation-modules.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/risk-calculation-modules.test.ts:15:7
  6  |    RiskAssessmentUtils,
  7  |    RiskCalculationEngine
  8  |  } from "@/src/lib/risk-calculation-modules";
     |          ^
  9  |  describe("Risk Calculation Modules", () => {
  10 |    let mockMarketConditions;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/63]⎯

 FAIL  tests/unit/core-orchestrator.test.ts [ tests/unit/core-orchestrator.test.ts ]
Error: Failed to resolve import "@/src/services/trading/orchestrator/core-orchestrator" from "tests/unit/core-orchestrator.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/core-orchestrator.test.ts:10:0
  3  |  vi.mock("@/src/services/trading/orchestrator/safety-manager");
  4  |  vi.mock("@/src/services/trading/orchestrator/trade-executor");
  5  |  const __vi_import_0__ = await import("@/src/services/trading/orchestrator/core-orchestrator");
     |                                       ^
  6  |  const __vi_import_1__ = await import("@/src/services/trading/orchestrator/pattern-processor");
  7  |  const __vi_import_2__ = await import("@/src/services/trading/orchestrator/position-monitor");
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/63]⎯

 FAIL  tests/unit/utils.test.ts [ tests/unit/utils.test.ts ]
Error: Failed to resolve import "@/src/lib/utils" from "tests/unit/utils.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/utils.test.ts:2:19
  1  |  import { describe, expect, it } from "vitest";
  2  |  import { cn } from "@/src/lib/utils";
     |                      ^
  3  |  describe("Utils", () => {
  4  |    describe("cn function", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/63]⎯

 FAIL  tests/unit/api-credentials-test-endpoint.test.ts [ tests/unit/api-credentials-test-endpoint.test.ts ]
 FAIL  tests/unit/auth-health-check.test.ts [ tests/unit/auth-health-check.test.ts ]
TypeError: z.number().nonnegative is not a function. (In 'z.number().nonnegative()', 'z.number().nonnegative' is undefined)
 ❯ src/db/schemas/performance.ts:116:28
    114|   agentId: z.string(),
    115|   timestamp: z.number().positive(),
    116|   responseTime: z.number().nonnegative(),
       |                            ^
    117|   successRate: z.number().min(0).max(1),
    118|   errorRate: z.number().min(0).max(1),

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/63]⎯

 FAIL  tests/unit/websocket-connection-fixes.test.ts [ tests/unit/websocket-connection-fixes.test.ts ]
Error: Failed to resolve import "@/src/services/data/websocket/connection-manager" from "tests/unit/websocket-connection-fixes.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/websocket-connection-fixes.test.ts:11:38
  1  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  2  |  import { MexcConnectionManager } from "@/src/services/data/websocket/connection-manager";
     |                                         ^
  3  |  import { MarketDataManager } from "@/src/services/data/websocket/market-data-manager";
  4  |  import { MexcWebSocketStreamService } from "@/src/services/data/websocket/stream-processor";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/63]⎯

 FAIL  tests/unit/unified-mexc-service-activity.test.ts [ tests/unit/unified-mexc-service-activity.test.ts ]
Error: Failed to resolve import "@/src/services/api/unified-mexc-service-v2" from "tests/unit/unified-mexc-service-activity.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/unified-mexc-service-activity.test.ts:3:37
  1  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  2  |  import { UnifiedMexcServiceV2 } from "@/src/services/api/unified-mexc-service-v2";
     |                                        ^
  3  |  describe("UnifiedMexcService - Activity API Integration (Phase 1)", () => {
  4  |    let mexcService;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/63]⎯

 FAIL  tests/unit/ai-intelligence-service.test.ts [ tests/unit/ai-intelligence-service.test.ts ]
Error: Failed to resolve import "@/src/services/ai/ai-intelligence-service" from "tests/unit/ai-intelligence-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/ai-intelligence-service.test.ts:36:0
  21 |    }
  22 |  }));
  23 |  const __vi_import_0__ = await import("@/src/services/ai/ai-intelligence-service");
     |                                       ^
  24 |  const __vi_import_1__ = await import("@/src/services/ai/embeddings-service");
  25 |  const __vi_import_2__ = await import("@/src/services/ai/intelligence-orchestrator");
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/63]⎯

 FAIL  tests/unit/transactions.test.ts [ tests/unit/transactions.test.ts ]
Error: Failed to resolve import "@/src/db/schema" from "tests/unit/transactions.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/transactions.test.ts:3:0
  2  |  vi.unmock("drizzle-orm");
  3  |  const __vi_import_0__ = await import("drizzle-orm");
  4  |  const __vi_import_1__ = await import("@/src/db/schema");
     |                                       ^
  5  |  const __vi_import_2__ = await import("./test-db-setup");
  6  |  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/63]⎯

 FAIL  tests/unit/enhanced-mexc-credential-validation.test.ts [ tests/unit/enhanced-mexc-credential-validation.test.ts ]
Error: Failed to resolve import "@/src/services/api/enhanced-mexc-credential-validator" from "tests/unit/enhanced-mexc-credential-validation.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/enhanced-mexc-credential-validation.test.ts:40:8
  16 |        delete process.env.MEXC_API_KEY;
  17 |        delete process.env.MEXC_SECRET_KEY;
  18 |        const { EnhancedCredentialValidator } = await import("@/src/services/api/enhanced-mexc-credential-validator");
     |                                                             ^
  19 |        const validator = new EnhancedCredentialValidator();
  20 |        const result = await validator.validateCredentials();
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/63]⎯

 FAIL  tests/unit/base-agent-caching.test.ts [ tests/unit/base-agent-caching.test.ts ]
Error: Failed to resolve import "@/src/mexc-agents/base-agent" from "tests/unit/base-agent-caching.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/base-agent-caching.test.ts:2:44
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { BaseAgent } from "@/src/mexc-agents/base-agent";
     |                             ^
  3  |  class TestAgent extends BaseAgent {
  4  |    mockCallCount = 0;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/63]⎯

 FAIL  tests/unit/cache-system.test.ts [ tests/unit/cache-system.test.ts ]
Error: Failed to resolve import "@/src/lib/api-response-cache" from "tests/unit/cache-system.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/cache-system.test.ts:13:57
  1  |  import { afterEach, beforeEach, describe, expect, test } from "vitest";
  2  |  import { APIResponseCache, globalAPIResponseCache } from "@/src/lib/api-response-cache";
     |                                                            ^
  3  |  import { CacheManager, generateCacheKey, globalCacheManager } from "@/src/lib/cache-manager";
  4  |  import { CacheMonitoringSystem } from "@/src/lib/cache-monitoring";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/63]⎯

 FAIL  tests/unit/optimized-auto-exit-manager.test.ts [ tests/unit/optimized-auto-exit-manager.test.ts ]
Error: Failed to resolve import "@/src/services/trading/optimized-auto-exit-manager" from "tests/unit/optimized-auto-exit-manager.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/optimized-auto-exit-manager.test.ts:9:41
  1  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  2  |  import { OptimizedAutoExitManager } from "@/src/services/trading/optimized-auto-exit-manager";
     |                                            ^
  3  |  describe("OptimizedAutoExitManager Performance Tests", () => {
  4  |    let autoExitManager;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/63]⎯

 FAIL  tests/unit/take-profit-strategies.test.ts [ tests/unit/take-profit-strategies.test.ts ]
Error: Failed to resolve import "@/src/types/take-profit-strategies" from "tests/unit/take-profit-strategies.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/take-profit-strategies.test.ts:13:7
  9  |    validateTakeProfitLevel,
  10 |    validateTakeProfitStrategy
  11 |  } from "@/src/types/take-profit-strategies";
     |          ^
  12 |  describe("Take Profit Strategies", () => {
  13 |    describe("Predefined Strategies", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/63]⎯

 FAIL  tests/unit/mexc-authentication-service.test.ts [ tests/unit/mexc-authentication-service.test.ts ]
Error: Failed to resolve import "@/src/services/api/mexc-authentication-service" from "tests/unit/mexc-authentication-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/mexc-authentication-service.test.ts:10:0
  5  |  }));
  6  |  const __vi_import_0__ = await import("node:crypto");
  7  |  const __vi_import_1__ = await import("@/src/services/api/mexc-authentication-service");
     |                                       ^
  8  |  import { describe, it, expect, beforeEach, afterEach, vi } from "vitest";
  9  |  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/63]⎯

 FAIL  tests/unit/database-performance-optimization.test.ts [ tests/unit/database-performance-optimization.test.ts ]
Error: Failed to resolve import "@/src/db" from "tests/unit/database-performance-optimization.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/database-performance-optimization.test.ts:15:33
  1  |  import { afterEach, beforeAll, beforeEach, describe, expect, test, vi } from "vitest";
  2  |  import { clearDbCache, db } from "@/src/db";
     |                                    ^
  3  |  import { patternEmbeddings, snipeTargets, user, userPreferences } from "@/src/db/schema";
  4  |  import { DatabaseQueryOptimizer } from "@/src/lib/database-query-optimizer";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/63]⎯

 FAIL  tests/unit/api-json-parser.test.ts [ tests/unit/api-json-parser.test.ts ]
Error: Failed to resolve import "@/src/lib/api-json-parser" from "tests/unit/api-json-parser.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/api-json-parser.test.ts:15:7
  6  |    validateFieldTypes,
  7  |    validateRequiredFields
  8  |  } from "@/src/lib/api-json-parser";
     |          ^
  9  |  describe("Centralized JSON Parser", () => {
  10 |    describe("parseJsonRequest", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/63]⎯

 FAIL  tests/unit/supabase-auth.test.ts [ tests/unit/supabase-auth.test.ts ]
Error: Failed to resolve import "@/src/lib/supabase-auth" from "tests/unit/supabase-auth.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/supabase-auth.test.ts:3:0
  12 |    hasSupabaseConfig: vi.fn(() => true)
  13 |  }));
  14 |  const __vi_import_0__ = await import("@/src/lib/supabase-auth");
     |                                       ^
  15 |  import { beforeEach, describe, expect, test, vi } from "vitest";
  16 |  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/63]⎯

 FAIL  tests/unit/multi-phase-strategy-builder.test.ts [ tests/unit/multi-phase-strategy-builder.test.ts ]
Error: Failed to resolve import "@/src/services/multi-phase-strategy-builder" from "tests/unit/multi-phase-strategy-builder.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/multi-phase-strategy-builder.test.ts:2:60
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { MultiPhaseStrategyBuilder, StrategyPatterns } from "@/src/services/multi-phase-strategy-builder";
     |                                                               ^
  3  |  describe("MultiPhaseStrategyBuilder", () => {
  4  |    let builder;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/63]⎯

 FAIL  tests/unit/coordination-system.test.ts [ tests/unit/coordination-system.test.ts ]
Error: Failed to resolve import "@/src/mexc-agents/base-agent" from "tests/unit/coordination-system.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/coordination-system.test.ts:6:7
  2  |  import {
  3  |    BaseAgent
  4  |  } from "@/src/mexc-agents/base-agent";
     |          ^
  5  |  import {
  6  |    AgentRegistry,
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/63]⎯

 FAIL  tests/unit/market-intelligence-service.test.ts [ tests/unit/market-intelligence-service.test.ts ]
Error: Failed to resolve import "@/src/services/intelligence/market-intelligence-service" from "tests/unit/market-intelligence-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/market-intelligence-service.test.ts:19:7
  7  |    marketIntelligenceService,
  8  |    TradingSignalSchema
  9  |  } from "@/src/services/intelligence/market-intelligence-service";
     |          ^
  10 |  describe("MarketIntelligenceService", () => {
  11 |    let service;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/63]⎯

 FAIL  tests/unit/cache-manager-schemas-extracted.test.ts [ tests/unit/cache-manager-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/cache-manager-schemas-extracted" from "tests/unit/cache-manager-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/cache-manager-schemas-extracted.test.ts:21:7
  11 |    CacheSizeBreakdownSchema,
  12 |    TTLConfigSchema
  13 |  } from "@/src/schemas/cache-manager-schemas-extracted";
     |          ^
  14 |  describe("Cache Manager Schemas - TDD Extraction Tests", () => {
  15 |    describe("CacheEntrySchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/63]⎯

 FAIL  tests/unit/safety-schemas-extracted.test.ts [ tests/unit/safety-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/safety-schemas-extracted" from "tests/unit/safety-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/safety-schemas-extracted.test.ts:16:7
  6  |    SafetyCoordinatorConfigSchema,
  7  |    SafetyMetricsSchema
  8  |  } from "@/src/schemas/safety-schemas-extracted";
     |          ^
  9  |  describe("Safety Schemas - TDD Extraction Tests", () => {
  10 |    describe("SafetyCoordinatorConfigSchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/63]⎯

 FAIL  tests/unit/risk-engine-schemas-extracted.test.ts [ tests/unit/risk-engine-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/risk-engine-schemas-extracted" from "tests/unit/risk-engine-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/risk-engine-schemas-extracted.test.ts:17:7
  7  |    RiskEngineConfigSchema,
  8  |    StressTestScenarioSchema
  9  |  } from "@/src/schemas/risk-engine-schemas-extracted";
     |          ^
  10 |  describe("Risk Engine Schemas - TDD Extraction Tests", () => {
  11 |    describe("MarketConditionsSchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/63]⎯

 FAIL  tests/unit/multi-phase-trading-bot.test.ts [ tests/unit/multi-phase-trading-bot.test.ts ]
Error: Failed to resolve import "@/src/services/trading/multi-phase-trading-bot" from "tests/unit/multi-phase-trading-bot.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/multi-phase-trading-bot.test.ts:2:67
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { AdvancedMultiPhaseTradingBot, MultiPhaseTradingBot } from "@/src/services/trading/multi-phase-trading-bot";
     |                                                                      ^
  3  |  import { TRADING_STRATEGIES } from "@/src/services/trading/trading-strategy-manager";
  4  |  describe("MultiPhaseTradingBot", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/63]⎯

 FAIL  tests/unit/mexc-api-client.test.ts [ tests/unit/mexc-api-client.test.ts ]
Error: Failed to resolve import "@/src/services/api/mexc-api-client" from "tests/unit/mexc-api-client.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/mexc-api-client.test.ts:12:0
  4  |  vi.mock("@/src/services/api/mexc-trading-service");
  5  |  vi.mock("@/src/services/api/mexc-request-cache");
  6  |  const __vi_import_0__ = await import("@/src/services/api/mexc-api-client");
     |                                       ^
  7  |  import { beforeEach, describe, expect, it, vi } from "vitest";
  8  |  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/63]⎯

 FAIL  tests/unit/pattern-detection-engine.test.ts [ tests/unit/pattern-detection-engine.test.ts ]
Error: Failed to resolve import "@/src/core/pattern-detection" from "tests/unit/pattern-detection-engine.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/pattern-detection-engine.test.ts:2:37
  1  |  import { beforeEach, describe, expect, it, vi } from "vitest";
  2  |  import { PatternDetectionCore } from "@/src/core/pattern-detection";
     |                                        ^
  3  |  describe("PatternDetectionCore - Phase 1 Week 2 Enhancement", () => {
  4  |    let patternEngine;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/63]⎯

 FAIL  tests/unit/advanced-trading-strategy.test.ts [ tests/unit/advanced-trading-strategy.test.ts ]
Error: Failed to resolve import "@/src/services/trading/advanced-trading-strategy" from "tests/unit/advanced-trading-strategy.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/advanced-trading-strategy.test.ts:2:40
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { AdvancedTradingStrategy } from "@/src/services/trading/advanced-trading-strategy";
     |                                           ^
  3  |  describe("AdvancedTradingStrategy", () => {
  4  |    let strategy;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/63]⎯

 FAIL  tests/unit/neon-branch-integration.test.ts [ tests/unit/neon-branch-integration.test.ts ]
Error: Failed to resolve import "@/src/lib/test-branch-setup" from "tests/unit/neon-branch-integration.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/neon-branch-integration.test.ts:17:7
  5  |    migrateTestBranch,
  6  |    setupTestBranch
  7  |  } from "@/src/lib/test-branch-setup";
     |          ^
  8  |  describe("NeonDB Branch Integration", () => {
  9  |    let testBranchContext = null;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/63]⎯

 FAIL  tests/unit/auth-consolidation.test.ts [ tests/unit/auth-consolidation.test.ts ]
Error: Failed to resolve import "@/src/lib/auth-decorators" from "tests/unit/auth-consolidation.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/auth-consolidation.test.ts:3:0
  28 |  }));
  29 |  const __vi_import_0__ = await import("next/server");
  30 |  const __vi_import_1__ = await import("@/src/lib/auth-decorators");
     |                                       ^
  31 |  
  32 |  import { beforeEach, describe, expect, it, vi } from "vitest";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/63]⎯

 FAIL  tests/unit/cache-warming-service.test.ts [ tests/unit/cache-warming-service.test.ts ]
Error: Failed to resolve import "@/src/lib/cache-warming-service" from "tests/unit/cache-warming-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/cache-warming-service.test.ts:10:0
  79 |    coinActivities: {}
  80 |  }));
  81 |  const __vi_import_0__ = await import("@/src/lib/cache-warming-service");
     |                                       ^
  82 |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  83 |  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/63]⎯

 FAIL  tests/unit/agent-cache-schemas-extracted.test.ts [ tests/unit/agent-cache-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/agent-cache-schemas-extracted" from "tests/unit/agent-cache-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/agent-cache-schemas-extracted.test.ts:17:7
  7  |    CachedAgentResponseSchema,
  8  |    WorkflowCacheEntrySchema
  9  |  } from "@/src/schemas/agent-cache-schemas-extracted";
     |          ^
  10 |  describe("Agent Cache Schemas - TDD Extraction Tests", () => {
  11 |    describe("AgentCacheConfigSchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/63]⎯

 FAIL  tests/unit/mexc-schemas-extracted.test.ts [ tests/unit/mexc-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/unified/mexc-api-schemas" from "tests/unit/mexc-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/mexc-schemas-extracted.test.ts:18:7
  8  |    SymbolEntrySchema,
  9  |    TickerSchema
  10 |  } from "@/src/schemas/unified/mexc-api-schemas";
     |          ^
  11 |  describe("MEXC Schemas - TDD Extraction Tests", () => {
  12 |    describe("CalendarEntrySchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/63]⎯

 FAIL  tests/unit/position-manager.test.ts [ tests/unit/position-manager.test.ts ]
Error: Failed to resolve import "@/src/services/trading/consolidated/core-trading/position-manager" from "tests/unit/position-manager.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/position-manager.test.ts:9:0
  7  |    })
  8  |  }));
  9  |  const __vi_import_0__ = await import("@/src/services/trading/consolidated/core-trading/position-manager");
     |                                       ^
  10 |  import { afterEach, beforeEach, describe, expect, test, vi } from "vitest";
  11 |  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/63]⎯

 FAIL  tests/unit/ai-services-suite.test.ts [ tests/unit/ai-services-suite.test.ts ]
Error: Failed to resolve import "@/src/services/ai/embeddings-service" from "tests/unit/ai-services-suite.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/ai-services-suite.test.ts:16:7
  5  |    embeddingsService,
  6  |    PatternEmbeddingSchema
  7  |  } from "@/src/services/ai/embeddings-service";
     |          ^
  8  |  import {
  9  |    EnhancedPatternSchema,
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/63]⎯

 FAIL  tests/unit/agent-manager.test.ts [ tests/unit/agent-manager.test.ts ]
Error: Failed to resolve import "@/src/lib/health-checks" from "tests/unit/agent-manager.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/agent-manager.test.ts:46:0
  31 |    SymbolAnalysisAgent: vi.fn()
  32 |  }));
  33 |  const __vi_import_0__ = await import("@/src/lib/health-checks");
     |                                       ^
  34 |  const __vi_import_1__ = await import("@/src/mexc-agents/agent-manager");
  35 |  import { beforeEach, describe, expect, it, vi } from "vitest";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/63]⎯

 FAIL  tests/unit/transaction-lock-service.test.ts [ tests/unit/transaction-lock-service.test.ts ]
Error: Failed to resolve import "@/src/db" from "tests/unit/transaction-lock-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/transaction-lock-service.test.ts:4:0
  9  |  }));
  10 |  const __vi_import_0__ = await import("node:crypto");
  11 |  const __vi_import_1__ = await import("@/src/db");
     |                                       ^
  12 |  const __vi_import_2__ = await import("@/src/db/schema");
  13 |  const __vi_import_3__ = await import("@/src/services/data/transaction-lock-service");
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/63]⎯

 FAIL  tests/unit/client-exception-debug.test.ts [ tests/unit/client-exception-debug.test.ts ]
Error: Failed to resolve import "@/src/lib/kinde-auth-client" from "tests/unit/client-exception-debug.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/client-exception-debug.test.ts:227:39
  170|    describe("Authentication State Hydration", () => {
  171|      it("should handle authentication loading state without throwing", async () => {
  172|        const { useAuth } = await import("@/src/lib/kinde-auth-client");
     |                                         ^
  173|        vi.mocked(useAuth).mockReturnValue({
  174|          user: null,
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/63]⎯

 FAIL  tests/unit/mexc-schemas.test.ts [ tests/unit/mexc-schemas.test.ts ]
Error: Failed to resolve import "@/src/schemas/unified/mexc-api-schemas" from "tests/unit/mexc-schemas.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/mexc-schemas.test.ts:14:7
  10 |    validateCalendarEntry,
  11 |    validateSymbolV2Entry
  12 |  } from "@/src/schemas/unified/mexc-api-schemas";
     |          ^
  13 |  describe("MEXC Schemas", () => {
  14 |    describe("CalendarEntrySchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/63]⎯

 FAIL  tests/unit/supabase-database.test.ts [ tests/unit/supabase-database.test.ts ]
Error: Failed to resolve import "@/src/db" from "tests/unit/supabase-database.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/supabase-database.test.ts:2:59
  1  |  import { afterAll, beforeAll, beforeEach, describe, expect, test, vi } from "vitest";
  2  |  import { clearDbCache, getDb, hasSupabaseConfig } from "@/src/db";
     |                                                          ^
  3  |  import { userPreferences, users } from "@/src/db/schemas/supabase-auth";
  4  |  import { supabaseSchema } from "@/src/db/schemas/supabase-schema";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/63]⎯

 FAIL  tests/unit/enhanced-rate-limiter.test.ts [ tests/unit/enhanced-rate-limiter.test.ts ]
Error: Failed to resolve import "@/src/lib/rate-limiter" from "tests/unit/enhanced-rate-limiter.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/enhanced-rate-limiter.test.ts:14:7
  9  |    isIPSuspicious,
  10 |    logSecurityEvent
  11 |  } from "@/src/lib/rate-limiter";
     |          ^
  12 |  vi.spyOn(console, "log").mockImplementation(() => {
  13 |  });
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/63]⎯

 FAIL  tests/unit/pattern-detection-schemas-extracted.test.ts [ tests/unit/pattern-detection-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/pattern-detection-schemas-extracted" from "tests/unit/pattern-detection-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/pattern-detection-schemas-extracted.test.ts:16:7
  6  |    PatternMatchSchema,
  7  |    ReadyStatePatternSchema
  8  |  } from "@/src/schemas/pattern-detection-schemas-extracted";
     |          ^
  9  |  describe("Pattern Detection Schemas - TDD Extraction Tests", () => {
  10 |    describe("ReadyStatePatternSchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/63]⎯

 FAIL  tests/unit/api-credentials-flow.test.ts [ tests/unit/api-credentials-flow.test.ts ]
Error: Failed to resolve import "@/src/components/api-credentials-form" from "tests/unit/api-credentials-flow.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/api-credentials-flow.test.ts:10:0
  104|  const __vi_import_1__ = await import("@testing-library/react");
  105|  const __vi_import_2__ = await import("react");
  106|  const __vi_import_3__ = await import("@/src/components/api-credentials-form");
     |                                       ^
  107|  const __vi_import_4__ = await import("@/src/components/enhanced-credential-status-consolidated");
  108|  
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/63]⎯

 FAIL  tests/unit/agent-registry-schemas-extracted.test.ts [ tests/unit/agent-registry-schemas-extracted.test.ts ]
Error: Failed to resolve import "@/src/schemas/agent-registry-schemas-extracted" from "tests/unit/agent-registry-schemas-extracted.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/agent-registry-schemas-extracted.test.ts:20:7
  10 |    RegisteredAgentSchema,
  11 |    SystemAlertSchema
  12 |  } from "@/src/schemas/agent-registry-schemas-extracted";
     |          ^
  13 |  describe("Agent Registry Schemas - TDD Extraction Tests", () => {
  14 |    describe("AgentStatusSchema", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/63]⎯

 FAIL  tests/unit/redis-cache-service.test.ts [ tests/unit/redis-cache-service.test.ts ]
Error: Failed to resolve import "@/src/lib/redis-cache-service" from "tests/unit/redis-cache-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/redis-cache-service.test.ts:11:0
  4  |    };
  5  |  });
  6  |  const __vi_import_0__ = await import("@/src/lib/redis-cache-service");
     |                                       ^
  7  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  8  |  const mockRedis = {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/63]⎯

 FAIL  tests/unit/auto-sniping-workflow.test.ts [ tests/unit/auto-sniping-workflow.test.ts ]
Error: Failed to resolve import "@/src/services/trading/complete-auto-sniping-service" from "tests/unit/auto-sniping-workflow.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/auto-sniping-workflow.test.ts:9:79
  1  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  2  |  import { getCompleteAutoSnipingService, resetCompleteAutoSnipingService } from "@/src/services/trading/complete-auto-sniping-service";
     |                                                                                  ^
  3  |  import { getCoreTrading, resetCoreTrading } from "@/src/services/trading/consolidated/core-trading/base-service";
  4  |  describe("Auto-Sniping Integration Tests", () => {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/63]⎯

 FAIL  tests/unit/database-optimization.test.ts [ tests/unit/database-optimization.test.ts ]
Error: Failed to resolve import "@/src/db" from "tests/unit/database-optimization.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/database-optimization.test.ts:232:0
  18 |  }));
  19 |  const __vi_import_0__ = await import("drizzle-orm");
  20 |  const __vi_import_1__ = await import("@/src/db");
     |                                       ^
  21 |  const __vi_import_2__ = await import("@/src/lib/database-connection-pool");
  22 |  const __vi_import_3__ = await import("@/src/lib/database-index-optimizer");
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/63]⎯

 FAIL  tests/unit/mexc-client-schema-consolidation.test.ts [ tests/unit/mexc-client-schema-consolidation.test.ts ]
Error: Failed to resolve import "@/src/schemas/unified/mexc-api-schemas" from "tests/unit/mexc-client-schema-consolidation.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/mexc-client-schema-consolidation.test.ts:21:27
  6  |    beforeEach(async () => {
  7  |      vi.clearAllMocks();
  8  |      schemas = await import("@/src/schemas/unified/mexc-api-schemas");
     |                             ^
  9  |      unifiedExports = await import("@/src/services/api/mexc-unified-exports");
  10 |      try {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/63]⎯

 FAIL  tests/unit/execution-order-service.test.ts [ tests/unit/execution-order-service.test.ts ]
Error: Failed to resolve import "@/src/services/execution/execution-order-service" from "tests/unit/execution-order-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/execution-order-service.test.ts:16:7
  6  |    OrderStatus,
  7  |    OrderType
  8  |  } from "@/src/services/execution/execution-order-service";
     |          ^
  9  |  describe("ExecutionOrderService", () => {
  10 |    let service;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/63]⎯

 FAIL  tests/unit/secure-encryption-service.test.ts [ tests/unit/secure-encryption-service.test.ts ]
Error: Failed to resolve import "@/src/services/api/secure-encryption-service" from "tests/unit/secure-encryption-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/secure-encryption-service.test.ts:6:62
  1  |  import { afterAll, beforeAll, describe, expect, it } from "vitest";
  2  |  import { getEncryptionService, SecureEncryptionService } from "@/src/services/api/secure-encryption-service";
     |                                                                 ^
  3  |  describe("SecureEncryptionService", () => {
  4  |    let originalEnv;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/63]⎯

 FAIL  tests/unit/trading-analytics-service.test.ts [ tests/unit/trading-analytics-service.test.ts ]
Error: Failed to resolve import "@/src/services/trading/trading-analytics-service" from "tests/unit/trading-analytics-service.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/trading-analytics-service.test.ts:9:58
  1  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  2  |  import { TradingAnalyticsService, tradingAnalytics } from "@/src/services/trading/trading-analytics-service";
     |                                                             ^
  3  |  describe("Trading Analytics Service", () => {
  4  |    let analyticsService;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/63]⎯

 FAIL  tests/unit/trading-strategy-manager.test.ts [ tests/unit/trading-strategy-manager.test.ts ]
Error: Failed to resolve import "@/src/services/trading/trading-strategy-manager" from "tests/unit/trading-strategy-manager.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/trading-strategy-manager.test.ts:2:59
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { TRADING_STRATEGIES, TradingStrategyManager } from "@/src/services/trading/trading-strategy-manager";
     |                                                              ^
  3  |  describe("TradingStrategyManager", () => {
  4  |    let manager;
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/63]⎯

 FAIL  tests/unit/supabase-api-auth.test.ts [ tests/unit/supabase-api-auth.test.ts ]
Error: Failed to resolve import "@/src/lib/supabase-auth" from "tests/unit/supabase-api-auth.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/supabase-api-auth.test.ts:9:0
  8  |  }));
  9  |  const __vi_import_0__ = await import("next/server");
  10 |  const __vi_import_1__ = await import("@/src/lib/supabase-auth");
     |                                       ^
  11 |  
  12 |  import { beforeEach, describe, expect, test, vi } from "vitest";
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/63]⎯

 FAIL  tests/unit/hooks/use-mobile.test.ts [ tests/unit/hooks/use-mobile.test.ts ]
Error: Failed to resolve import "@/src/hooks/use-mobile-clean" from "tests/unit/hooks/use-mobile.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/hooks/use-mobile.test.ts:3:65
  1  |  import { act, renderHook } from "@testing-library/react";
  2  |  import { afterEach, beforeEach, describe, expect, it, vi } from "vitest";
  3  |  import { useIsMobile, useTouchGestures, useViewportHeight } from "@/src/hooks/use-mobile-clean";
     |                                                                    ^
  4  |  if (typeof global.window === "undefined") {
  5  |    global.window = {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/63]⎯

 FAIL  tests/unit/lib/responsive-utils.test.ts [ tests/unit/lib/responsive-utils.test.ts ]
Error: Failed to resolve import "@/src/lib/responsive-utils-clean" from "tests/unit/lib/responsive-utils.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/lib/responsive-utils.test.ts:17:7
  14 |    ResponsiveClassNames,
  15 |    validateResponsiveConfig
  16 |  } from "@/src/lib/responsive-utils-clean";
     |          ^
  17 |  if (typeof global.window === "undefined") {
  18 |    global.window = {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[58/63]⎯

 FAIL  tests/unit/domain/value-objects/safety/safety-rule.value-object.test.ts [ tests/unit/domain/value-objects/safety/safety-rule.value-object.test.ts ]
Error: Failed to resolve import "@/src/domain/errors/trading-errors" from "tests/unit/domain/value-objects/safety/safety-rule.value-object.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/domain/value-objects/safety/safety-rule.value-object.test.ts:14:38
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { DomainValidationError } from "@/src/domain/errors/trading-errors";
     |                                         ^
  3  |  import {
  4  |    SafetyRule
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[59/63]⎯

 FAIL  tests/unit/domain/entities/safety/risk-profile.entity.test.ts [ tests/unit/domain/entities/safety/risk-profile.entity.test.ts ]
Error: Failed to resolve import "@/src/domain/entities/safety/risk-profile.entity" from "tests/unit/domain/entities/safety/risk-profile.entity.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/domain/entities/safety/risk-profile.entity.test.ts:13:28
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { RiskProfile } from "@/src/domain/entities/safety/risk-profile.entity";
     |                               ^
  3  |  import { DomainValidationError } from "@/src/domain/errors/trading-errors";
  4  |  import {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[60/63]⎯

 FAIL  tests/unit/domain/entities/safety/emergency-stop.entity.test.ts [ tests/unit/domain/entities/safety/emergency-stop.entity.test.ts ]
Error: Failed to resolve import "@/src/domain/entities/safety/emergency-stop.entity" from "tests/unit/domain/entities/safety/emergency-stop.entity.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/neo/Developer/mexc-sniper-bot/tests/unit/domain/entities/safety/emergency-stop.entity.test.ts:14:30
  1  |  import { beforeEach, describe, expect, it } from "vitest";
  2  |  import { EmergencyStop } from "@/src/domain/entities/safety/emergency-stop.entity";
     |                                 ^
  3  |  import { DomainValidationError } from "@/src/domain/errors/trading-errors";
  4  |  import {
 ❯ _formatLog node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42499:45
 ❯ error node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:42496:16
 ❯ processTicksAndRejections native:7:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[61/63]⎯


⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/unit/timeout-system.test.ts > Timeout System Verification > Timeout Wrapper Functions > should complete fast operations successfully
AssertionError: expected 288 to be less than 200
 ❯ tests/unit/timeout-system.test.ts:74:31
     72|       expect(result.timedOut).toBe(false);
     73|       expect(result.duration).toBeGreaterThan(90);
     74|       expect(result.duration).toBeLessThan(200);
       |                               ^
     75|     });
     76| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[62/63]⎯

⎯⎯⎯⎯⎯⎯ Unhandled Errors ⎯⎯⎯⎯⎯⎯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

⎯⎯⎯⎯⎯⎯ Unhandled Error ⎯⎯⎯⎯⎯⎯⎯
ReferenceError: Cannot access 'dispose' before initialization.
 ❯ disposeInternalListeners node_modules/vitest/dist/chunks/utils.CAioKnHs.js:20:19
 ❯ execute node_modules/vitest/dist/worker.js:70:2
 ❯ execute node_modules/vitest/dist/worker.js:69:24
 ❯ onMessage node_modules/tinypool/dist/entry/process.js:39:24
 ❯ processTicksAndRejections native:7:39
 ❯ spawnSync node:child_process:225:22
 ❯ execSync node:child_process:274:109
 ❯ node_modules/tinypool/dist/index.js:36:18
 ❯ moduleEvaluation native:1:11

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯


 Test Files  63 failed | 12 passed (76)
      Tests  1 failed | 194 passed (195)
     Errors  1 error
   Start at  12:01:09
   Duration  59.17s (transform 6.74s, setup 10.69s, collect 4.35s, tests 10.16s, environment 5.64s, prepare 788ms)

ReferenceError: Cannot access 'listeners' before initialization.
{
  name: "ReferenceError",
  stack: "ReferenceError: Cannot access 'listeners' before initialization.\n    at cleanup (/Users/neo/Developer/mexc-sniper-bot/node_modules/vitest/dist/worker.js:55:32)\n    at cleanup (/Users/neo/Developer/mexc-sniper-bot/node_modules/vitest/dist/worker.js:54:23)\n    at teardown (/Users/neo/Developer/mexc-sniper-bot/node_modules/vitest/dist/worker.js:120:24)\n    at onMessage (/Users/neo/Developer/mexc-sniper-bot/node_modules/tinypool/dist/entry/process.js:39:24)\n    at processTicksAndRejections (native:7:39)\n    at spawnSync (unknown)\n    at spawnSync (node:child_process:225:22)\n    at execSync (node:child_process:274:109)\n    at /Users/neo/Developer/mexc-sniper-bot/node_modules/tinypool/dist/index.js:36:18\n    at moduleEvaluation (native:1:11)",
  message: "Cannot access 'listeners' before initialization.",
}

Bun v1.2.15 (macOS arm64)
error: script "test:fast:unit" exited with code 1
make: *** [test-unit] Error 1
